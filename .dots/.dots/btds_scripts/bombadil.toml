# @pastex file: bombadil.toml
# @pastex noexec: true
# Force dotfiles_dir to current directory to avoid path recursion errors
dotfiles_dir = "."

[settings]
terminal_width = 80
default_profile = "arch_x64"

# --- PROFILE: T630 THIN CLIENT (x86_64) ---
[profiles.arch_x64]
    vars = [ "vars_x64.toml" ]
    [profiles.arch_x64.dots]
    bash_core   = { source = "bash/.bashrc",        target = ".bashrc" }
    bash_alias  = { source = "bash/aliases.bash",   target = ".config/bash/aliases.bash" }
    bash_export = { source = "bash/exports.bash",   target = ".config/bash/exports.bash" }
    starship    = { source = "starship.toml",       target = ".config/starship.toml" }
    btds_tools  = { source = "btds_scripts",        target = ".local/bin/btds" }

    [profiles.arch_x64.hook]
    post_install = [
        "mkdir -p ~/.config/bash",
        "chmod +x ~/.local/bin/btds/*",
        "source ~/.bashrc"
    ]

# --- PROFILE: S20 FE PROOT (aarch64) ---
[profiles.arch_arm_proot]
    vars = [ "vars_proot.toml" ]
    [profiles.arch_arm_proot.dots]
    bash_core   = { source = "bash/.bashrc",        target = ".bashrc" }
    bash_alias  = { source = "bash/aliases.bash",   target = ".config/bash/aliases.bash" }
    bash_export = { source = "bash/exports.bash",   target = ".config/bash/exports.bash" }
    starship    = { source = "starship.toml",       target = ".config/starship.toml" }
    btds_tools  = { source = "btds_scripts",        target = ".local/bin/btds" }

    [profiles.arch_arm_proot.hook]
    post_install = [
        "mkdir -p ~/.config/bash",
        "chmod +x ~/.local/bin/btds/*",
        "source ~/.bashrc"
    ]